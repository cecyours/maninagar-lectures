<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./src/bootstrap.min.css" />

    <style>
      .error-message {
        font-size: 14px;
        bottom: 0px;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <div class="container my-2">
      <div class="row">
        <div class="col-md-6">
          <form action="" id="my-form">
            <div class="mb-2">
              <label for="username" class="form-label">username</label>
              <span
                class="text-danger float-end error-message"
                id="error_username"
              ></span>
              <input type="text" id="username" class="form-control" />
            </div>
            <div class="mb-2">
              <label for="useremail" class="form-label">email</label>
              <span
                class="text-danger float-end error-message"
                id="error_useremail"
              ></span>
              <input type="email" id="useremail" class="form-control" />
            </div>
            <div class="mb-2">
              <label for="password" class="form-label">password</label>
              <span
                class="text-danger float-end error-message"
                id="error_password"
              ></span>
              <input type="password" id="password" class="form-control" />
            </div>
            <div class="mb-2">
              <label for="cpassword" class="form-label">confirm password</label>
              <span
                class="text-danger float-end error-message"
                id="error_cpassword"
              ></span>
              <input type="password" id="cpassword" class="form-control" />
            </div>

            <div class="mb-2">
              <button type="submit" class="btn btn-primary">Submit</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script>
    $(document).ready(function () {
      $(".form-control").focusin(function () {
        var id = $(this).attr("id");
        console.log("id ", id);
        $("#error_" + id).text("");
      });

      $("#my-form").submit(function (event) {
        event.preventDefault();
        let isError = false;
        if (!$("#username").val()) {
          $("#error_username").text("user name is required.");
          isError = true;
        }

        if (!$("#useremail").val()) {
          $("#error_useremail").text("email is required.");
          isError = true;
        }

        if (!$("#password").val()) {
          $("#error_password").text("password is required..");
          isError = true;
        }

        if (!$("#cpassword").val()) {
          $("#error_cpassword").text("confirm password is required..");
          isError = true;
        }

        if ($("#password").val() != $("#cpassword").val()) {
          $("#error_cpassword").text("password doest match..");
          isError = true;
        }

        if (isError) {
          return;
        }
        // endpoint

        window.location.href = "https://www.google.com";
      });
    });
  </script>
</html>
